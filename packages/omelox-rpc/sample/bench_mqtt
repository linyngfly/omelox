mqtt





使用mock_data_1测试
PS C:\pinus\packages\pinus-rpc\dist\sample> node .\bench_client.js
1.033203125k
rpc client start ok.
runParallel 100000 num requests(maxParallel:1) cost 22309ms , 4482.50ops/sec
runParallel 100000 num requests(maxParallel:2) cost 10366ms , 9646.92ops/sec
runParallel 100000 num requests(maxParallel:4) cost 6668ms , 14997.00ops/sec
runParallel 100000 num requests(maxParallel:8) cost 4903ms , 20395.68ops/sec
runParallel 100000 num requests(maxParallel:16) cost 3592ms , 27839.64ops/sec
runParallel 100000 num requests(maxParallel:32) cost 2969ms , 33681.37ops/sec
runParallel 100000 num requests(maxParallel:64) cost 2762ms , 36205.65ops/sec
runParallel 100000 num requests(maxParallel:128) cost 2673ms , 37411.15ops/sec
runParallel 100000 num requests(maxParallel:256) cost 2233ms , 44782.80ops/sec
runParallel 100000 num requests(maxParallel:512) cost 2213ms , 45187.53ops/sec
runParallel 100000 num requests(maxParallel:1024) cost 2025ms , 49382.72ops/sec
runParallel 100000 num requests(maxParallel:2048) cost 1914ms , 52246.60ops/sec
runParallel 100000 num requests(maxParallel:4096) cost 2315ms , 43196.54ops/sec
runParallel 100000 num requests(maxParallel:8192) cost 2488ms , 40192.93ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2621ms , 38153.38ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2669ms , 37467.22ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2655ms , 37664.78ops/sec
PS C:\pinus\packages\pinus-rpc\dist\sample> node .\bench_client.js
1.033203125k
rpc client start ok.
runParallel 100000 num requests(maxParallel:1) cost 21287ms , 4697.70ops/sec
runParallel 100000 num requests(maxParallel:2) cost 12682ms , 7885.19ops/sec
runParallel 100000 num requests(maxParallel:4) cost 7641ms , 13087.29ops/sec
runParallel 100000 num requests(maxParallel:8) cost 4984ms , 20064.21ops/sec
runParallel 100000 num requests(maxParallel:16) cost 3652ms , 27382.26ops/sec
runParallel 100000 num requests(maxParallel:32) cost 3043ms , 32862.31ops/sec
runParallel 100000 num requests(maxParallel:64) cost 2704ms , 36982.25ops/sec
runParallel 100000 num requests(maxParallel:128) cost 2604ms , 38402.46ops/sec
runParallel 100000 num requests(maxParallel:256) cost 2244ms , 44563.28ops/sec
runParallel 100000 num requests(maxParallel:512) cost 2201ms , 45433.89ops/sec
runParallel 100000 num requests(maxParallel:1024) cost 2012ms , 49701.79ops/sec
runParallel 100000 num requests(maxParallel:2048) cost 1912ms , 52301.26ops/sec
runParallel 100000 num requests(maxParallel:4096) cost 2281ms , 43840.42ops/sec
runParallel 100000 num requests(maxParallel:8192) cost 2493ms , 40112.31ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2617ms , 38211.69ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2624ms , 38109.76ops/sec
PS C:\pinus\packages\pinus-rpc\dist\sample> node .\bench_client.js
1.033203125k
rpc client start ok.
runParallel 100000 num requests(maxParallel:1) cost 20749ms , 4819.51ops/sec
runParallel 100000 num requests(maxParallel:2) cost 12758ms , 7838.22ops/sec
runParallel 100000 num requests(maxParallel:4) cost 7629ms , 13107.88ops/sec
runParallel 100000 num requests(maxParallel:8) cost 4993ms , 20028.04ops/sec
runParallel 100000 num requests(maxParallel:16) cost 3667ms , 27270.25ops/sec
runParallel 100000 num requests(maxParallel:32) cost 3017ms , 33145.51ops/sec
runParallel 100000 num requests(maxParallel:64) cost 2710ms , 36900.37ops/sec
runParallel 100000 num requests(maxParallel:128) cost 2595ms , 38535.65ops/sec
runParallel 100000 num requests(maxParallel:256) cost 2190ms , 45662.10ops/sec
runParallel 100000 num requests(maxParallel:512) cost 2181ms , 45850.53ops/sec
runParallel 100000 num requests(maxParallel:1024) cost 2000ms , 50000.00ops/sec
runParallel 100000 num requests(maxParallel:2048) cost 1922ms , 52029.14ops/sec
runParallel 100000 num requests(maxParallel:4096) cost 2301ms , 43459.37ops/sec
runParallel 100000 num requests(maxParallel:8192) cost 2554ms , 39154.27ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2661ms , 37579.86ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2660ms , 37593.98ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 2663ms , 37551.63ops/sec
PS C:\pinus\packages\pinus-rpc\dist\sample> node .\bench_client.js
1.033203125k
rpc client start ok.
runSerial 100000 num requests cost 22204ms , 4503.69ops/sec
runSerial 100000 num requests cost 21588ms , 4632.20ops/sec
runSerial 100000 num requests cost 21499ms , 4651.38ops/sec








使用mock_data_3测试
PS C:\pinus\packages\pinus-rpc\dist\sample> node .\bench_client.js
1.033203125k
rpc client start ok.
runParallel 100000 num requests(maxParallel:1) cost 24710ms , 4046.94ops/sec
runParallel 100000 num requests(maxParallel:2) cost 14732ms , 6787.94ops/sec
runParallel 100000 num requests(maxParallel:4) cost 9516ms , 10508.62ops/sec
runParallel 100000 num requests(maxParallel:8) cost 6661ms , 15012.76ops/sec
runParallel 100000 num requests(maxParallel:16) cost 5296ms , 18882.18ops/sec
runParallel 100000 num requests(maxParallel:32) cost 4432ms , 22563.18ops/sec
runParallel 100000 num requests(maxParallel:64) cost 4078ms , 24521.82ops/sec
runParallel 100000 num requests(maxParallel:128) cost 3539ms , 28256.57ops/sec
runParallel 100000 num requests(maxParallel:256) cost 3273ms , 30553.01ops/sec
runParallel 100000 num requests(maxParallel:512) cost 3278ms , 30506.41ops/sec
runParallel 100000 num requests(maxParallel:1024) cost 3361ms , 29753.05ops/sec
runParallel 100000 num requests(maxParallel:2048) cost 3702ms , 27012.43ops/sec
runParallel 100000 num requests(maxParallel:4096) cost 3966ms , 25214.32ops/sec
runParallel 100000 num requests(maxParallel:8192) cost 4547ms , 21992.52ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 4718ms , 21195.42ops/sec
runParallel 100000 num requests(maxParallel:10000) cost 4527ms , 22089.68ops/sec
PS C:\pinus\packages\pinus-rpc\dist\sample> node .\bench_client.js
1.033203125k
rpc client start ok.
runSerial 100000 num requests cost 24778ms , 4035.84ops/sec
runSerial 100000 num requests cost 23930ms , 4178.85ops/sec















pomelo原始性能测试记录
0.4931640625k
rpc client start ok.
run 20000 num requests cost: 3715 ops/sec 5383.58
run 20000 num requests cost: 3225 ops/sec 6201.55
run 20000 num requests cost: 3189 ops/sec 6271.56
run 20000 num requests cost: 3198 ops/sec 6253.91
run 20000 num requests cost: 3377 ops/sec 5922.42
run 20000 num requests cost: 3203 ops/sec 6244.15
run 20000 num requests cost: 3528 ops/sec 5668.93
run 20000 num requests cost: 3380 ops/sec 5917.16
run 20000 num requests cost: 3574 ops/sec 5595.97
run 20000 num requests cost: 3458 ops/sec 5783.69
run 20000 num requests cost: 3480 ops/sec 5747.13
run 20000 num requests cost: 3465 ops/sec 5772.01
run 20000 num requests cost: 3619 ops/sec 5526.39
run 20000 num requests cost: 3201 ops/sec 6248.05
run 20000 num requests cost: 3319 ops/sec 6025.91
run 20000 num requests cost: 3071 ops/sec 6512.54
run 20000 num requests cost: 3237 ops/sec 6178.56
run 20000 num requests cost: 3258 ops/sec 6138.74

mqtt
0.9814453125k
rpc client start ok.
run 20000 num requests cost: 4140 ops/sec 4830.92
run 20000 num requests cost: 3348 ops/sec 5973.72
run 20000 num requests cost: 3450 ops/sec 5797.10
run 20000 num requests cost: 3198 ops/sec 6253.91
run 20000 num requests cost: 3370 ops/sec 5934.72
run 20000 num requests cost: 3325 ops/sec 6015.04
run 20000 num requests cost: 3364 ops/sec 5945.30
run 20000 num requests cost: 3361 ops/sec 5950.61
run 20000 num requests cost: 3589 ops/sec 5572.58
run 20000 num requests cost: 3307 ops/sec 6047.78
run 20000 num requests cost: 3279 ops/sec 6099.42
run 20000 num requests cost: 3304 ops/sec 6053.27
run 20000 num requests cost: 3368 ops/sec 5938.24
run 20000 num requests cost: 3412 ops/sec 5861.66
run 20000 num requests cost: 3252 ops/sec 6150.06
run 20000 num requests cost: 3301 ops/sec 6058.77
run 20000 num requests cost: 3387 ops/sec 5904.93

mqtt
1.4697265625k
rpc client start ok.
run 20000 num requests cost: 3961 ops/sec 5049.23
run 20000 num requests cost: 3451 ops/sec 5795.42
run 20000 num requests cost: 3453 ops/sec 5792.06
run 20000 num requests cost: 3314 ops/sec 6035.00
run 20000 num requests cost: 3822 ops/sec 5232.86
run 20000 num requests cost: 3406 ops/sec 5871.99
run 20000 num requests cost: 3653 ops/sec 5474.95
run 20000 num requests cost: 3572 ops/sec 5599.10
run 20000 num requests cost: 3333 ops/sec 6000.60
run 20000 num requests cost: 3389 ops/sec 5901.45
run 20000 num requests cost: 3563 ops/sec 5613.25
run 20000 num requests cost: 3714 ops/sec 5385.03
run 20000 num requests cost: 3553 ops/sec 5629.05
run 20000 num requests cost: 3642 ops/sec 5491.49
run 20000 num requests cost: 3459 ops/sec 5782.02
run 20000 num requests cost: 3452 ops/sec 5793.74
run 20000 num requests cost: 3734 ops/sec 5356.19
run 20000 num requests cost: 3794 ops/sec 5271.48
run 20000 num requests cost: 3513 ops/sec 5693.14

mqtt
1.9580078125k
rpc client start ok.
run 20000 num requests cost: 4395 ops/sec 4550.63
run 20000 num requests cost: 3658 ops/sec 5467.47
run 20000 num requests cost: 3851 ops/sec 5193.46
run 20000 num requests cost: 3665 ops/sec 5457.03
run 20000 num requests cost: 3841 ops/sec 5206.98
run 20000 num requests cost: 3571 ops/sec 5600.67
run 20000 num requests cost: 3903 ops/sec 5124.26
run 20000 num requests cost: 4039 ops/sec 4951.72
run 20000 num requests cost: 4023 ops/sec 4971.41
run 20000 num requests cost: 3878 ops/sec 5157.30
run 20000 num requests cost: 3763 ops/sec 5314.91
run 20000 num requests cost: 3892 ops/sec 5138.75
run 20000 num requests cost: 3851 ops/sec 5193.46
run 20000 num requests cost: 3878 ops/sec 5157.30
run 20000 num requests cost: 3880 ops/sec 5154.64
run 20000 num requests cost: 3776 ops/sec 5296.61
run 20000 num requests cost: 3689 ops/sec 5421.52
run 20000 num requests cost: 3715 ops/sec 5383.58
run 20000 num requests cost: 3923 ops/sec 5098.14
run 20000 num requests cost: 3628 ops/sec 5512.68
run 20000 num requests cost: 3998 ops/sec 5002.50

mqtt
3.9111328125k
rpc client start ok.
run 20000 num requests cost: 5886 ops/sec 3397.89
run 20000 num requests cost: 4748 ops/sec 4212.30
run 20000 num requests cost: 4847 ops/sec 4126.26
run 20000 num requests cost: 4672 ops/sec 4280.82
run 20000 num requests cost: 4462 ops/sec 4482.29
run 20000 num requests cost: 4438 ops/sec 4506.53
run 20000 num requests cost: 4428 ops/sec 4516.71
run 20000 num requests cost: 4205 ops/sec 4756.24
run 20000 num requests cost: 4552 ops/sec 4393.67
run 20000 num requests cost: 4614 ops/sec 4334.63
run 20000 num requests cost: 4400 ops/sec 4545.45
run 20000 num requests cost: 4540 ops/sec 4405.29
run 20000 num requests cost: 4471 ops/sec 4473.27
run 20000 num requests cost: 4674 ops/sec 4278.99
run 20000 num requests cost: 4734 ops/sec 4224.76
run 20000 num requests cost: 5030 ops/sec 3976.14
run 20000 num requests cost: 5079 ops/sec 3937.78
run 20000 num requests cost: 4413 ops/sec 4532.06
run 20000 num requests cost: 4643 ops/sec 4307.56